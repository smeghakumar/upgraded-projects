<?xml version="1.0" encoding="UTF-8"?>

<mule
  xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core"
  xmlns="http://www.mulesoft.org/schema/mule/core"
  xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/mule-ee.xsd http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/mule.xsd">

  <sub-flow
    name="health-check-sub-flow"
    doc:id="e73486b3-72a7-4fe4-8665-74f280bb39ee">
    <logger
      level="INFO"
      doc:name="Start Logger"
      doc:id="c5f79bd8-6c2f-4917-b4ca-5dbad5e1a537"
      message="Start health-check-sub-flow"
      category="${logger.category}.health-check-sub-flow" />
    <ee:transform
      doc:name="Status Message"
      doc:id="7631f705-0336-47fe-8d53-21c705a1c0d7">
      <ee:message>
        <ee:set-payload><![CDATA[%dw 2.0
output application/json
---
{
  "serviceName": "hea-canvas-sapi",
  "status": "up"
}]]></ee:set-payload>
      </ee:message>
    </ee:transform>
    <logger
      level="INFO"
      doc:name="End Logger"
      doc:id="c9f4114a-67a4-4cc0-ab72-10af25366d46"
      message="End health-check-sub-flow"
      category="${logger.category}.health-check-sub-flow" />
  </sub-flow>


</mule>
